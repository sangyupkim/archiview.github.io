<html>
<head>
    <title>Video Player</title>
    <style>
        body {
            text-align: center;
            background: #f5f5f5;
            font-family: Arial;
            padding-bottom: 100px;
        }

        .video-box {
            margin-top: 40px;
        }

        /* 썸네일 리스트 영역 */
        .thumb-container {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        /* 각 썸네일 스타일 */
        .thumbnail {
            width: 150px;
            height: 90px;
            object-fit: cover;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.25s ease, border 0.25s;
            border: 3px solid transparent;
        }

        .thumbnail:hover {
            transform: scale(1.08);
        }

        /* 선택된 썸네일 강조 */
        .active-thumb {
            border: 3px solid #ff4444;
            transform: scale(1.1);
        }

        /* 뒤로가기 버튼 */
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 18px;
            background: rgba(120,120,120,0.2);
            padding: 8px 12px;
            color: black;
            text-decoration: none;
            border-radius: 10px;
            z-index: 999;
        }

        .back-btn:hover {
            background: #555;
        }
    </style>
</head>

<body>

    <h1 style="margin-top:30px;">영상 재생</h1>

    <!-- ===== 메인 비디오 ===== -->
    <div class="video-box">
        <video id="videoPlayer" width="900" controls autoplay>
            <source id="1.mp4" src="1.mp4">
        </video>
    </div>

    <!-- ===== 밑에 썸네일 3개 예시 ===== -->
    <div class="thumb-container">
        <img src="Thumbnail/thumb_concert.jpg" class="thumbnail" data-video="1.mp4">
        <img src="Thumbnail/thumb_shopping.jpg" class="thumbnail" data-video="videos/shopping.mp4">
        <img src="Thumbnail/thumb_default.jpg" class="thumbnail" data-video="videos/default.mp4">
    </div>

    <a class="back-btn" href="../index.html">← 이전으로 돌아가기</a>

    <script>
        const params = new URLSearchParams(window.location.search);
        const vid = params.get("vid");
        const videoPlayer = document.getElementById("videoPlayer");
        const videoSource = document.getElementById("videoSource");

        // URL 파라미터에 따라 초기 영상 설정
        if (vid === "천장열림") {
            videoSource.src = "1.mp4";
        } else if (vid === "공연장회전(내부)") {
            videoSource.src = "2.mp4";
        } else {
            videoSource.src = "3.mp4";
        }

        videoPlayer.load();

        // ========== 썸네일 클릭 시 다른 영상 재생 ==========
        const thumbnails = document.querySelectorAll(".thumbnail");

        thumbnails.forEach(thumb => {
            thumb.addEventListener("click", () => {
                const videoPath = thumb.getAttribute("data-video");

                // 선택한 썸네일 강조
                thumbnails.forEach(t => t.classList.remove("active-thumb"));
                thumb.classList.add("active-thumb");

                // 영상 소스 변경 및 재생
                videoSource.src = videoPath;
                videoPlayer.load();
                videoPlayer.play();
            });
        });
    </script>

</body>
</html>
